# OZON Fintech

Тестовое задание для стажера-разработчика


## Задача
Необходимо реализовать сервис, который должен предоставлять
API по созданию сокращённых ссылок следующего формата:
* Ссылка должна быть уникальной и на один оригинальный
  URL должна ссылаться только одна сокращенная ссылка
* Ссылка должна быть длинной 10 символов
* Ссылка должна состоять из символов латинского алфавита
  в нижнем и верхнем регистре, цифр и символа «_»

## Условие
Сервис должен быть написан на Go и принимать следующие
запросы по http:
* Метод Post, который будет сохранять оригинальный URL
  в базе и возвращать сокращённый
* Метод Get, который будет принимать сокращённый URL
  и возвращать оригинальный URL

## Уникальность ссылок
Уникальность ссылок достигается с помощью создания дополнительных функций и триггеров для БД, которые будут удалять "просроченные" записи из таблицы.
При запросе на создание новой ссылки проверяется наличие сгенерированной короткой ссылки в БД. При существовании такой ссылки, проводится перегенерация, максимальное количество которой составит 10 раз.
Если же ссылку не удастся создать, пользователь получит ответ об этом.

## Запуск API
Для запуска API с in-memory хранилищем ссылок:
```
docker build -t <name> -f Dockerfile-memory .
docker run -p 5000:5000 -t <name>
```

Для запуска API с PostgreSQL:
```
docker-compose build --no-cache
docker-compose up
```
